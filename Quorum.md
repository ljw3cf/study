# Quorum
__Quorum의 사전적 정의__

![dictionary](/img/vote.svg)

의사결정에 필요한 최소한의 인원 수, 즉 의족수를 의미한다.   
집단적 결정에 있어 같은 집단에서도 각 구성원들은 서로 다른 의견을 가지고 있을 수 있다.   
모든 의견을 반영하기 힘들고 단 하나의 의사결정만이 강제되는 경우, 일반적으로 우리는 투표라는 방식을 선택하게 된다.  
Quarum은 의사결정을 위해 투표를 하고 가장 많이 나온 의견을 채택하는 방식이다.

__IT에서 Quorum__

HA환경에서 클러스터<sup>1</sup> 분할로 스플릿 브레인<sup>2</sup>이 발생하는 것을 방지하기 위해 사용하는 알고리즘이다. 노드간 연결이 단절될 때, 각 노드로부터 투표를 받아 Master노드를 결정하게 된다.

__Quorum의 필요성=스플릿 브레인의 문제점__

사람이 걷기 위한 동작은 왼발을 내딛고, 오른발을 내딛는 동작을 반복하는 과정이다.  
만약 좌뇌, 우뇌가 서로 다른 발을 동시에 내딛으라고 명령하면 어떻게 될까? 스텝은 꼬여 사람은 쓰러지고 걷는 동작을 지속할 수 없을 것이다.

이와 유사하게 스플릿 브레인 현상 발생시, 각 노드가 자신을 Master로 인식하고 Master에 필요한 애플리케이션을 재시작하여 서비스가 중복되는 문제점을 가지고 있다.


__Quorum 구조__

쿼럼은 쿼럼 서버와 쿼럼 클라이언트로 구분할 수 있다.    

1) 쿼럼 서버(=쿼럼 장치) : 서버 형태로 구축된 네트워크 기반 쿼럼 장치이다. 쿼럼 서버는 각 노드와 연결되어 전체 노드와 통신한다. 만약 고립된 노드들이 스스로 Alive/Dead 판단 불가시 중재하여 클러스터의 데이터 손실을 방지한다.  

2) 쿼럼 클라이언트 : 각 노드에 설치되어, 노드 상태확인 및 쿼럼 서버로 통신을 담당하는 에이전트다.

__어케 작동되는가__



__참고하면 좋은 자료__

<http://www.mantech.co.kr/quorum/>

<sub>1. 컴퓨팅 파워를 증가시키기 위해 여러개의 노드를 연결하여 하나의 노드처럼 작동하게 하는 기술</sub>

<sub>2. 클러스터로 구성된 노드들의 연결이 단절될 때 발생하는 현상. 스플릿 브레인 발생시 각 노드들은 각자가 자신을 Master로 인식하게 된다.</sub>